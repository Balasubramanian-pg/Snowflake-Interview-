# 14.8. Cross Region

Canonical documentation for 14.8. Cross Region. This document defines concepts, terminology, and standard usage.

## Purpose
The purpose of Cross Region architecture is to provide a framework for distributing workloads, data, and services across multiple geographically or logically isolated infrastructure clusters. This topic addresses the fundamental need for high availability (HA), disaster recovery (DR), and reduced latency for globally distributed users. By operating across regions, systems can survive the total failure of a single geographic area and comply with local data residency requirements.

> [!NOTE]
> This documentation is intended to be implementation-agnostic and authoritative, focusing on the architectural principles rather than specific cloud provider configurations.

## Scope
This documentation covers the theoretical and structural requirements for designing and maintaining systems that span multiple regions.

> [!IMPORTANT]
> **In scope:**
> * Data replication strategies (Synchronous vs. Asynchronous)
> * Traffic management and global load balancing
> * Regional isolation and blast radius containment
> * Disaster recovery objectives (RTO/RPO)

> [!WARNING]
> **Out of scope:**
> * Specific vendor implementations (e.g., AWS Regions, Azure Regions, GCP Regions)
> * Physical data center construction or hardware specifications
> * Local Area Network (LAN) configurations within a single region

## Definitions
| Term | Definition |
|------|------------|
| Region | A distinct geographical area or logical boundary containing one or more isolated deployment zones. |
| Latency | The time delay incurred when data travels between two regions, primarily governed by the speed of light and network hops. |
| Egress | Data exiting a regional boundary, often associated with increased cost and security scrutiny. |
| Failover | The process of switching traffic from a primary region to a secondary region during a service disruption. |
| Data Sovereignty | The legal requirement that data is subject to the laws and governance of the region where it is physically located. |
| Blast Radius | The maximum potential impact of a single component or regional failure on the overall system. |

## Core Concepts
The fundamental principle of Cross Region design is the trade-off between **consistency** and **availability** (as defined by the CAP theorem) over long distances.

1.  **Regional Isolation:** Each region should be as autonomous as possible. Dependencies between regions should be minimized to prevent a failure in one region from cascading into another.
2.  **Data Replication:** Moving data across regions introduces significant latency. Architects must choose between synchronous replication (ensuring data is identical but slowing down writes) and asynchronous replication (faster writes but with a risk of data loss during failover).
3.  **Global Traffic Routing:** A mechanism (usually DNS or Anycast-based) that directs users to the most appropriate region based on health, proximity, or policy.

> [!TIP]
> Think of Cross Region architecture like a chain of international branch offices. If the New York office loses power, the London office can still serve customers using its own local records, even if the records are a few minutes out of sync with the New York data.

## Standard Model
The standard model for Cross Region deployment involves a **Global Control Plane** and multiple **Regional Data Planes**.

*   **Global Control Plane:** Manages the routing logic, health monitoring, and configuration distribution across all regions.
*   **Regional Data Plane:** Handles the actual processing of requests and local data storage.

In this model, regions are treated as "Shared Nothing" architectures. They do not share power, cooling, or networking infrastructure. Communication between regions occurs over a backbone network (public or private) and is treated as inherently unreliable and high-latency.

## Common Patterns
*   **Active-Passive (Pilot Light):** A minimal version of the environment is always running in a secondary region. Data is replicated, but the secondary region does not serve traffic until a failover is triggered.
*   **Active-Passive (Warm Standby):** A scaled-down but functional version of the environment runs in the secondary region. It can handle traffic quickly but requires scaling to meet full production loads.
*   **Active-Active (Multi-Site):** Two or more regions serve traffic simultaneously. This provides the lowest RTO (Recovery Time Objective) but requires complex data synchronization to avoid conflicts.
*   **Geographic Partitioning (Sharding):** Users are pinned to specific regions based on their physical location to minimize latency and satisfy data residency laws.

## Anti-Patterns
*   **Chatty Cross-Region Communication:** Designing services that require multiple round-trips between regions to complete a single transaction. This leads to extreme performance degradation.
*   **Circular Dependencies:** Region A depends on Region B, which in turn depends on Region A. If one fails, both fail.
*   **Ignoring Egress Costs:** Transferring large volumes of data between regions without accounting for the financial cost, which is typically much higher than intra-region transfer.
*   **Hard-Coded Regional Endpoints:** Hard-coding specific regional URLs in client applications, preventing seamless failover.

> [!CAUTION]
> Avoid tight coupling between regions. If a database in Region A must perform a synchronous commit to Region B before acknowledging a write, the system's availability is limited by the combined failure rate of both regions and the network between them.

## Edge Cases
*   **Split-Brain Scenario:** A network partition occurs where Region A and Region B cannot communicate. Both regions may believe the other is down and attempt to take over as the "primary," leading to data corruption or inconsistent state.
*   **Thundering Herd during Failover:** When a region fails, the sudden shift of 100% of its traffic to a secondary region can overwhelm the secondary region's capacity, causing a secondary failure.
*   **Regional "Brownout":** A situation where a region is not completely down but is experiencing high packet loss or extreme latency. Automated failover systems often struggle to detect and react to these partial failures.

## Related Topics
*   **14.7. High Availability:** Internal redundancy within a single region.
*   **14.9. Disaster Recovery:** The procedural and technical steps taken to restore service after a regional loss.
*   **Data Consistency Models:** Deep dive into eventual vs. strong consistency in distributed systems.
*   **Global Load Balancing:** The mechanics of directing traffic at the edge.

## Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-02-17 | Initial AI-generated canonical documentation |