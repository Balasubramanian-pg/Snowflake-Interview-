# 16.5. Medallion Arch

Canonical documentation for [16.5. Medallion Arch](2. Data Engineering & Pipelines/16. Real-World Scenarios/16.5. Medallion Arch.md). This document defines concepts, terminology, and standard usage.

## Purpose
The Medallion Architecture is a data design pattern used to organize data within a lakehouse or modern data warehouse. Its primary purpose is to provide a logical structure that incrementally improves the quality, reliability, and readiness of data as it flows through various processing stages. 

By categorizing data into distinct layers—typically Bronze, Silver, and Gold—organizations can maintain a clear lineage from raw ingestion to business-ready analytics. This architecture addresses the challenges of data swamp prevention, complex transformation management, and the need for both raw data preservation and high-performance reporting.

> [!NOTE]
> This documentation is intended to be implementation-agnostic and authoritative, focusing on the architectural pattern rather than specific cloud provider services.

## Scope
The scope of this document covers the logical partitioning of data, the transformation expectations at each layer, and the governance principles governing the movement of data between these layers.

> [!IMPORTANT]
> **In scope:**
> * Logical definitions of Bronze, Silver, and Gold layers.
> * Data quality expectations and transformation requirements for each tier.
> * Principles of idempotency and data lineage within the architecture.
> * Theoretical boundaries between raw storage and curated insights.

> [!WARNING]
> **Out of scope:**
> * Specific vendor implementations (e.g., Databricks Delta Live Tables, Snowflake Dynamic Tables, or AWS Glue).
> * Specific programming languages or ETL tool syntax.
> * Physical storage hardware configurations.

## Definitions
| Term | Definition |
|------|------------|
| **Bronze Layer** | The entry point for data; a landing zone that preserves the raw state of source data. |
| **Silver Layer** | The intermediate tier where data is cleansed, normalized, and joined to create a "Single Source of Truth." |
| **Gold Layer** | The final tier containing highly refined, aggregated data optimized for business intelligence and downstream consumption. |
| **Idempotency** | The property where an operation can be applied multiple times without changing the result beyond the initial application. |
| **Schema Evolution** | The ability of the architecture to handle changes in data structure over time without breaking downstream pipelines. |
| **Data Lakehouse** | An architectural paradigm that combines the cost-effective storage of a data lake with the performance and ACID transactions of a data warehouse. |

## Core Concepts
The Medallion Architecture is built upon the principle of **incremental refinement**. Data is not merely moved; it is matured.

1.  **Data Quality Progression:** As data moves from Bronze to Gold, the strictness of schema enforcement and data validation increases.
2.  **Preservation of History:** The Bronze layer ensures that the original state of the data is never lost, allowing for re-processing if business logic changes.
3.  **Decoupling of Concerns:** By separating raw ingestion (Bronze) from business logic (Silver) and presentation (Gold), teams can scale and modify parts of the pipeline independently.

> [!TIP]
> Think of the Medallion Architecture like a water filtration system. The Bronze layer is the reservoir (raw and unfiltered), the Silver layer is the treatment plant (filtered and safe for general use), and the Gold layer is the bottled water (packaged and optimized for the end consumer).

## Standard Model
The standard model consists of three distinct logical layers:

### 1. Bronze (Raw)
*   **Input:** Data from external sources (APIs, RDBMS, IoT streams, Logs).
*   **State:** Raw, often in its original format (JSON, Parquet, CSV).
*   **Retention:** Typically long-term or permanent to allow for full auditability and re-processing.
*   **Constraint:** Minimal to no transformations are applied.

### 2. Silver (Validated/Enriched)
*   **Input:** Bronze layer data.
*   **State:** Cleaned, filtered, and augmented. Data is often modeled into a relational format (e.g., 3rd Normal Form or Data Vault).
*   **Action:** Deduplication, handling missing values, and standardizing formats (dates, currencies).
*   **Constraint:** Must represent a consistent, enterprise-wide view of the entities.

### 3. Gold (Curated/Business)
*   **Input:** Silver layer data.
*   **State:** Aggregated and optimized. Often organized in Star Schemas (Facts and Dimensions).
*   **Action:** Complex business calculations, period-over-period aggregations, and join-heavy views.
*   **Constraint:** Optimized for read performance and end-user accessibility.

## Common Patterns
*   **Streaming Refinement:** Data flows through all three layers in near real-time using message queues and stream processing engines.
*   **Batch Micro-Schedules:** Data is processed in discrete intervals (e.g., every 15 minutes) to balance cost and latency.
*   **SCD Type 2 in Silver:** Maintaining historical versions of records in the Silver layer to track how entities change over time.
*   **Work-in-Progress (WIP) Layers:** Temporary "Sandbox" or "Transient" layers used for data science experimentation before formalizing logic into the Gold layer.

## Anti-Patterns
*   **The "Garbage In, Gold Out" Fallacy:** Attempting to create Gold-level insights without proper cleansing in the Silver layer.
*   **Layer Skipping:** Moving data directly from Bronze to Gold. This creates brittle pipelines and duplicates transformation logic across multiple Gold tables.
*   **Over-Engineering Bronze:** Applying complex business logic or filtering at the ingestion stage, which prevents the ability to recover data if requirements change.
*   **Monolithic Transformations:** Creating a single, massive script that handles Bronze-to-Gold in one step, destroying modularity and lineage.

> [!CAUTION]
> Avoid tight coupling between the Gold layer and specific BI tool proprietary formats. Ensure the Gold layer remains accessible via standard protocols to prevent vendor lock-in.

## Edge Cases
*   **Late-Arriving Data:** When data arrives after the Gold layer has already been aggregated for a specific time period. This requires "re-statement" logic to update historical Gold records.
*   **GDPR/Right to Erasure:** Requests to delete specific user data must be propagated through all three layers, including the raw Bronze archives.
*   **Schema Collisions:** When two different source systems provide data for the same Silver entity but use conflicting data types or naming conventions.
*   **High-Frequency Updates:** Rapidly changing records that cause "version bloat" in the Silver layer, requiring aggressive vacuuming or compaction strategies.

## Related Topics
*   **Data Lineage:** The tracking of data's origins and its movement through the Medallion layers.
*   **Data Governance:** The policies and standards applied to data at each stage of the architecture.
*   **ACID Transactions:** The technical foundation (Atomicity, Consistency, Isolation, Durability) that allows for reliable multi-layer processing.
*   **Dimensional Modeling:** The specific technique often used to structure the Gold layer.

## Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-02-17 | Initial AI-generated canonical documentation |